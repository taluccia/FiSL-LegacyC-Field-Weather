---
title: "UnburnedToWGSLatLon"
output: html_document
---




# Overview

Distance from field site to nearest unburned.

-- Process by fire year
-- Take Rasters
-- Convert raster to point 
--
-- Measure distance from point to polygon (st_distance or st_nearest maybe?)

Can measure distance as 2D euclidean distance with Cartesian coordinants (planar) or as 3D as geodesic distance.

Unburned points are generated from raster files in script named "UnburnedRasterToPoints.Rmd"

# Packages

```{r}
library(tidyverse)
library(sp)
library(sf)


```

# Projections
```{r}
wgs_proj = "+proj=longlat +datum=WGS84 +no_defs"
```

```{r}
ea_proj = "+proj=aea +lat_0=50 +lon_0=-154 +lat_1=55 +lat_2=65 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs"
```

# Data

## Field points by Year

```{r}
fieldpts2015 = st_read("../data/FieldPointsShp/FieldPoints2015.shp", "FieldPoints2015")
fieldpts2019 = st_read("../data/FieldPointsShp/FieldPoints2019.shp", "FieldPoints2019")
fieldpts2020 = st_read("../data/FieldPointsShp/FieldPoints2020.shp", "FieldPoints2020")
fieldpts2021 = st_read("../data/FieldPointsShp/FieldPoints2021.shp", "FieldPoints2021")
```
```{r}
head(fieldpts2015)
```



## Unburned points
```{r}
unburned2015 = st_read("../data/UnburnedPoints/UnburnedPoints2015.shp", "UnburnedPoints2015")
unburned2019 = st_read("../data/UnburnedPoints/UnburnedPoints2019.shp", "UnburnedPoints2019")
unburned2020 = st_read("../data/UnburnedPoints/UnburnedPoints2020.shp", "UnburnedPoints2020")
unburned2021 = st_read("../data/UnburnedPoints/UnburnedPoints2021.shp", "UnburnedPoints2021")
```


### Convert back to wgs84
### add Lat/Lon

```{r}
setNames(data.frame(unburned2015[[1]], 
                    matrix(unlist(unburned2015[2]), ncol=2, byrow=TRUE)), 
         c("ID", "lon", "lat"))
```